#!/bin/bash

# antoniogamiz/i3wm must exist under ~/.config

REPO=~/.config/i3wm

# ======================================

config_dirs=(i3 i3status)
for dir in "${config_dirs[@]}"
do
	cp -a ~/.config/$dir/ $REPO/
done

# =====================================

mkdir -p $REPO/.local/bin/
binaries=(i3exit i3backup ddspawn setup_dual_display setup_single_display setup_monitors)
for bin in "${binaries[@]}"
do
	cp ~/.local/bin/$bin $REPO/.local/bin/$bin
done

# =====================================

# zshrc config
cp ~/.zshrc $REPO/.zshrc
# replace tokens
sed -i '/TOKEN/c\censored' $REPO/.zshrc

cd $REPO
git add .
git commit -m "Automated backup, $(date)"
git push 
